(function(t){function e(e){for(var a,o,c=e[0],u=e[1],s=e[2],l=0,p=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},i={app:0},r=[];function o(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"57ac666a"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=a);var r,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var s=new Error;r=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,n[1](s)}i[t]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:u})}),12e4);u.onerror=u.onload=r,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/tree-view/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"467e":function(t,e,n){"use strict";n("da65")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},a580:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e623"),n("e379"),n("5dc8"),n("37e1");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}}),n("router-view")],1)},r=[],o=(n("5c0b"),n("2877")),c={},u=Object(o["a"])(c,i,r,!1,null,null,null),s=u.exports,l=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("BrandList",{attrs:{msg:"Welcome to Your Vue.js + TypeScript App"}})],1)},p=[],f=n("d4ec"),b=n("262e"),m=n("2caf"),v=n("9ab4"),h=n("1b40"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div"),n("div",{staticClass:"data__list"},t._l(t.shortListGetter,(function(t){return n("brand-item",{key:t.id,staticClass:"data__item",attrs:{brand:t}})})),1),n("footer",[n("button",{on:{click:t.resetFrontDB}},[t._v("RESET DB")])])])},O=[],j=n("bee2"),g=n("4bb5"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"brand"},[t.isEditing?t._e():n("div",{staticClass:"brand__field-wrap"},[n("span",{staticClass:"brand__field-text",on:{dblclick:t.enableEditing}},[t._v("- "+t._s(t.brand.title))]),n("span",{staticClass:"brand__field-text",on:{dblclick:t.enableEditing}},[t._v("- "+t._s(t.brand.main))]),n("button",{on:{click:t.enableEditing}},[t._v(" Edit")]),n("div",{staticClass:"close",on:{click:function(e){return t.deleteDataItem(t.brand.id)}}})]),t.isEditing?n("div",{staticClass:"field-wrap"},[t._v(" "+t._s(t.tempTitle)+" "+t._s(t.tempMain)+" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempTitle,expression:"tempTitle"}],domProps:{value:t.tempTitle},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEdit({id:t.brand.id,title:t.tempTitle,main:t.tempMain})},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"escape",void 0,e.key,void 0)?null:t.disableEditing(e)}],input:function(e){e.target.composing||(t.tempTitle=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempMain,expression:"tempMain"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.tempMain)?t._i(t.tempMain,null)>-1:t.tempMain},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEdit({id:t.brand.id,title:t.tempTitle,main:t.tempMain})},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"escape",void 0,e.key,void 0)?null:t.disableEditing(e)}],change:function(e){var n=t.tempMain,a=e.target,i=!!a.checked;if(Array.isArray(n)){var r=null,o=t._i(n,r);a.checked?o<0&&(t.tempMain=n.concat([r])):o>-1&&(t.tempMain=n.slice(0,o).concat(n.slice(o+1)))}else t.tempMain=i}}}),n("button",{on:{click:t.disableEditing}},[t._v("Cancel")]),n("button",{on:{click:function(e){return t.saveEdit({id:t.brand.id,title:t.tempTitle,main:t.tempMain})}}},[t._v("Save")])]):t._e()])},E=[],k=Object(g["a"])("treeview"),w=function(t){Object(b["a"])(n,t);var e=Object(m["a"])(n);function n(){var t;return Object(f["a"])(this,n),t=e.apply(this,arguments),t.isEditing=!1,t}return Object(j["a"])(n,[{key:"disableEditing",value:function(){this.tempTitle="",this.isEditing=!1}},{key:"saveEdit",value:function(t){this.disableEditing(),this.updateDataItem(t)}},{key:"enableEditing",value:function(){this.tempTitle=this.brand.title,this.tempMain=this.brand.main,this.isEditing=!0}}]),n}(h["d"]);Object(v["a"])([Object(h["b"])()],w.prototype,"brand",void 0),Object(v["a"])([Object(h["c"])()],w.prototype,"tempTitle",void 0),Object(v["a"])([Object(h["c"])()],w.prototype,"tempMain",void 0),Object(v["a"])([k.Action],w.prototype,"deleteDataItem",void 0),Object(v["a"])([k.Action],w.prototype,"updateDataItem",void 0),w=Object(v["a"])([h["a"]],w);var T=w,D=T,A=(n("467e"),Object(o["a"])(D,_,E,!1,null,null,null)),x=A.exports,L=Object(g["a"])("treeview"),M=function(t){Object(b["a"])(n,t);var e=Object(m["a"])(n);function n(){return Object(f["a"])(this,n),e.apply(this,arguments)}return Object(j["a"])(n,[{key:"created",value:function(){this.getDataList()}}]),n}(h["d"]);Object(v["a"])([L.State],M.prototype,"dataList",void 0),Object(v["a"])([L.Action],M.prototype,"resetFrontDB",void 0),Object(v["a"])([L.Action],M.prototype,"deleteDataItem",void 0),Object(v["a"])([L.Action],M.prototype,"getDataList",void 0),Object(v["a"])([L.Action],M.prototype,"updateDataItem",void 0),Object(v["a"])([L.Getter],M.prototype,"DataListGetter",void 0),Object(v["a"])([L.Getter],M.prototype,"shortListGetter",void 0),M=Object(v["a"])([Object(h["a"])({components:{BrandItem:x}})],M);var I=M,C=I,S=(n("d25f"),Object(o["a"])(C,y,O,!1,null,"247870b2",null)),P=S.exports,B=function(t){Object(b["a"])(n,t);var e=Object(m["a"])(n);function n(){return Object(f["a"])(this,n),e.apply(this,arguments)}return n}(h["d"]);B=Object(v["a"])([Object(h["a"])({components:{BrandList:P}})],B);var R=B,G=R,$=Object(o["a"])(G,d,p,!1,null,null,null),F=$.exports;a["a"].use(l["a"]);var U=[{path:"/",name:"Home",component:F},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],J=new l["a"]({mode:"history",base:"/tree-view/",routes:U}),N=J,q=n("2f62"),H=n("1da1"),V=n("2909"),W=(n("96cf"),n("fb6a"),n("a434"),n("c740"),n("d81d"),n("6fc5")),Y=n("bc3a"),z=n.n(Y),K="https://recruting-test-api.herokuapp.com/api/v1/",Q=function(t){Object(b["a"])(n,t);var e=Object(m["a"])(n);function n(){var t;return Object(f["a"])(this,n),t=e.apply(this,arguments),t.dataList=[],t}return Object(j["a"])(n,[{key:"DataListGetter",get:function(){return this.dataList}},{key:"shortListGetter",get:function(){var t=this.dataList.reduce((function(t,e){return e.main&&t.length<=4&&t.push(e),t}),[]);return 0===t.length?this.dataList.slice(0,4):t}},{key:"SET_DATA_LIST",value:function(t){this.dataList=t}},{key:"DELETE_DATA_ITEM",value:function(t){this.dataList.splice(t,1)}},{key:"UPDATE_DATA_ITEM",value:function(t){var e=this.dataList.findIndex((function(e){return e.id===t.id})),n=Object(V["a"])(this.dataList);n[e]={id:t.id,title:t.title,main:t.main},this.dataList=n}},{key:"updateDataItem",value:function(){var t=Object(H["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,r,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=z.a.put("".concat(K,"brand/").concat(e.id),{title:e.title,main:e.main}).catch((function(t){throw console.log("error on updating Data item: ".concat(t)),new Error(t)})),!n){t.next=9;break}return t.next=4,n;case 4:a=t.sent,i=a.data,r=i._id,o=i.title,c=i.main,u={id:r,title:o,main:c},this.context.commit("UPDATE_DATA_ITEM",u);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"resetFrontDB",value:function(){var t=Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:z.a.get("".concat(K,"front/resetDB")).catch((function(t){throw console.log("error on reseting DB: ".concat(t)),new Error(t)})).then((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"deleteDataItem",value:function(){var t=Object(H["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z.a.delete("".concat(K,"brand/").concat(e)).catch((function(t){throw console.log("error on deleting item: ".concat(t)),new Error(t)}));case 2:n=t.sent,n&&(a=this.context.state.dataList.findIndex((function(t){return t.id===e})),a>-1&&this.context.commit("DELETE_DATA_ITEM",a));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getDataList",value:function(){var t=Object(H["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z.a.get("".concat(K,"brands")).catch((function(t){throw console.log("we'v got ".concat(t)),new Error(t)}));case 2:e=t.sent,n=e.data,n&&(a=n.map((function(t){var e=t._id,n=t.title,a=t.main;return{id:e,title:n,main:a}})),this.context.commit("SET_DATA_LIST",a));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(W["d"]);Object(v["a"])([W["c"]],Q.prototype,"SET_DATA_LIST",null),Object(v["a"])([W["c"]],Q.prototype,"DELETE_DATA_ITEM",null),Object(v["a"])([W["c"]],Q.prototype,"UPDATE_DATA_ITEM",null),Object(v["a"])([W["a"]],Q.prototype,"updateDataItem",null),Object(v["a"])([W["a"]],Q.prototype,"resetFrontDB",null),Object(v["a"])([W["a"]],Q.prototype,"deleteDataItem",null),Object(v["a"])([W["a"]],Q.prototype,"getDataList",null),Q=Object(v["a"])([Object(W["b"])({namespaced:!0})],Q);var X=Q;a["a"].use(q["a"]);var Z=new q["a"].Store({state:{},mutations:{},actions:{},modules:{treeview:X}}),tt=Z;a["a"].config.productionTip=!1,new a["a"]({router:N,store:tt,render:function(t){return t(s)}}).$mount("#app")},d25f:function(t,e,n){"use strict";n("a580")},da65:function(t,e,n){}});
//# sourceMappingURL=app.e0ae645c.js.map